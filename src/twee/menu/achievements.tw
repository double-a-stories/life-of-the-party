<!-- achievements.tw ~ provides UI for achievements in Life of the Party -->
:: Achievements from LOTP [script]
// Defines achievements used in Life of the Party
setup.ALL_ACHIEVEMENTS = {
  ANA_VORE_ENDING: ["ğŸ—‘ï¸", "Outside Route", "No Laughing Matter", "Ana Ending"],
  BASIL_VORE_ENDING: ["ğŸ´", "Party Route", "Party Animals", "Basil Ending"],
  HAZEL_VORE_ENDING: ["ğŸ»", "Bathroom Route", "A Grizzly End", "Hazel Ending", "..."],
  LACEY_VORE_ENDING: [`ğŸ `, "Bedroom Route", "Two for One Meal", "Lacey Ending", "Search...?"],
  REN_VORE_ENDING: ["ğŸ¦Š", "Garage Route", "ğŸ‡ğŸ¥±ğŸ˜Š!!!", "Ren Ending"],
  BYRON_VORE_ENDING: ["ğŸº", "Wolf Route", "Anyway, Here's...", "Byron Ending"],
  NIKKI_NOX_VORE_ENDING: ["ğŸ¸", "Sauce Route", "Sauced & Swallowed", "Nikki & Nox Ending"],
  MARCY_VORE_ENDING: ["ğŸ¦¨", "Stink Route", "WIP", "Marcy Ending"],
  CLOSET_ENDING: ["ğŸ§¹", "Closet Route", "Worth it?", "Broom Closet Ending"],
  ZEN_ENDING: ["ğŸŒŒ", "Bench Route", "Space Out", "Zen Ending"],
};

:: Achievements list
<%
const achieveCount = setup.getAchievements().length;
const achieveMax = Object.keys(setup.ALL_ACHIEVEMENTS).length;
%>

### Achievements (<%-achieveCount%> <span aria-label="of">/</span> <%- achieveMax %>)

<% window.cheevosList = [
  ...Object.keys(setup.ALL_ACHIEVEMENTS).filter(k => setup.hasAchievement(k)),
  ...Object.keys(setup.ALL_ACHIEVEMENTS).filter(k => !setup.hasAchievement(k))
]; %>

<table class="table">
  <colgroup>
  </colgroup>
  <% for (const key of cheevosList) {
    const [emoji, route, name, desc] = setup.ALL_ACHIEVEMENTS[key];
    let unlocked = setup.getAchievements().includes(key); %>
      <tr class="<% if (!unlocked) %>locked-achievement<%;%>">
        <td><%= unlocked ? emoji: "ğŸ”’" %></span></td>
        <td><%= unlocked ? `<b>${route}</b>` : route %></td>
        <td><%= unlocked ? `"${name}" <i>(${desc})</i>` : `<i>(Locked achievement)</i>` %></td>
      </tr>
  <% } %>
</table>
 
* <a0 onclick="setup.resetAchievementsPrompt();">Reset achievements.</a>

:: Cheevos style [stylesheet]
.locked-achievement {
  filter: grayscale(1);
}
